
### ğŸ“ `alembic/README.md`

````markdown
# ğŸ› ï¸ Alembic Migrations â€“ SupplyCrew

Este diretÃ³rio contÃ©m os scripts de **migraÃ§Ã£o de banco de dados** do projeto SupplyCrew, gerenciados via [Alembic](https://alembic.sqlalchemy.org/).

---

## âœ… Estrutura

- `env.py`: configuraÃ§Ã£o principal para execuÃ§Ã£o das migraÃ§Ãµes.
- `versions/`: diretÃ³rio onde os scripts de migraÃ§Ã£o versionados sÃ£o armazenados.
- `README.md`: este arquivo de referÃªncia.

---

## ğŸš€ Como criar uma nova migraÃ§Ã£o

1. **Garanta que os modelos (`models.py`) estejam atualizados**
2. **Certifique-se de que a variÃ¡vel `DATABASE_URL` estÃ¡ correta** no `.env` (dentro ou fora do Docker)
3. Execute o comando:

```bash
alembic revision --autogenerate -m "descreva_aqui_a_mudanÃ§a"
````

---

## ğŸ“¦ Como aplicar as migraÃ§Ãµes

**Localmente:**

```bash
alembic upgrade head
```

**Dentro do Docker:**

```bash
docker compose exec backend alembic upgrade head
```

---

## ğŸ” Comandos Ãºteis

| Comando                      | DescriÃ§Ã£o                                   |
| ---------------------------- | ------------------------------------------- |
| `alembic upgrade head`       | Aplica todas as migraÃ§Ãµes pendentes         |
| `alembic downgrade -1`       | Desfaz a Ãºltima migraÃ§Ã£o aplicada           |
| `alembic history`            | Lista o histÃ³rico de versÃµes                |
| `alembic current`            | Mostra a versÃ£o atual aplicada no banco     |
| `alembic show <revision_id>` | Mostra o conteÃºdo de uma revisÃ£o especÃ­fica |

---

## âš ï¸ Boas prÃ¡ticas

* Nunca edite arquivos de migraÃ§Ã£o aplicados diretamente no banco.
* Sempre use `--autogenerate` com atenÃ§Ã£o: revise o conteÃºdo gerado antes de aplicar.
* Evite migraÃ§Ãµes grandes demais. Prefira granularidade por funcionalidade.

---

## ğŸ“ ObservaÃ§Ã£o

O hostname `postgres` Ã© vÃ¡lido apenas **dentro do Docker**. Fora dele, use `localhost` na string de conexÃ£o (`.env.local`).

```

---

ğŸ“Œ **Salve esse conteÃºdo como** `backend/alembic/README.md`.

Se quiser, posso tambÃ©m gerar um `Makefile` com comandos para `migrate`, `revision`, `up`, etc., tudo automatizado. Deseja isso?
```
